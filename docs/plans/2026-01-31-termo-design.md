# Termo - iOS SSH Terminal App Design

## Overview

**한 줄 요약**: 미니멀하고 무료인 iOS SSH 터미널 앱. 별도 입력 모드로 모바일에서도 편한 타이핑 제공.

**핵심 가치**:
- **미니멀 UI** - 불필요한 기능 없이 깔끔한 인터페이스
- **별도 입력 모드** - 토글로 전환, 편한 명령어 입력 경험
- **무료/오픈소스** - Termius Pro의 대안

**타겟 사용자**:
- 모바일에서 서버 관리가 필요한 개발자
- 간단하고 빠른 SSH 접속을 원하는 사람
- Termius 무료 버전 제한에 불만인 사용자

**기술 스택**:
- Flutter (Dart) - iOS/Android 크로스플랫폼
- 오픈소스 SSH 라이브러리 활용

---

## Input Mode (입력 모드)

**토글 방식 동작**:
- 기본 상태: 일반 터미널 (전체 화면에 터미널 출력)
- 플로팅 버튼 탭 → 입력 모드 활성화
- 입력 모드에서 다시 탭 → 일반 터미널로 복귀

**입력 모드 UI 구성**:
```
┌─────────────────────────────┐
│                             │
│      터미널 출력 영역        │
│      (스크롤 가능)           │
│                             │
├─────────────────────────────┤
│ [↑] [↓]  최근 명령어 히스토리 │
├─────────────────────────────┤
│ [서버재시작] [로그확인] [배포] │ ← 커스텀 단축 버튼
├─────────────────────────────┤
│ 명령어 입력...    [자동완성▼] │
│                      [전송] │
└─────────────────────────────┘
```

**세부 기능**:
- **히스토리**: 위/아래 버튼으로 이전 명령어 탐색, 최근 100개 저장
- **단축 버튼**: 사용자가 직접 추가/삭제, 호스트별로 다르게 설정 가능
- **자동완성**: 입력 중 명령어/경로 제안, 탭하면 입력됨

---

## Connection & Authentication (연결 및 인증)

**호스트 목록 화면**:
```
┌─────────────────────────────┐
│ Termo                   [+] │
├─────────────────────────────┤
│ ┌─────────────────────────┐ │
│ │ 🖥 production-server    │ │
│ │ ubuntu@192.168.1.100    │ │
│ └─────────────────────────┘ │
│ ┌─────────────────────────┐ │
│ │ 🖥 dev-server           │ │
│ │ root@dev.example.com    │ │
│ └─────────────────────────┘ │
│ ┌─────────────────────────┐ │
│ │ 🖥 raspberry-pi         │ │
│ │ pi@192.168.1.50         │ │
│ └─────────────────────────┘ │
└─────────────────────────────┘
```

**호스트 추가/편집 정보**:
- 별명 (표시용)
- 호스트 주소
- 포트 (기본값 22)
- 사용자명
- 인증 방식 선택

**인증 방식** (프로토타입):
- **비밀번호**: 입력 후 저장 여부 선택
- **SSH 키**: 앱 내 키 생성 또는 파일에서 가져오기

**데이터 저장**:
- 호스트 정보는 기기 로컬에 저장
- 민감 정보(비밀번호)는 암호화 저장

---

## Terminal & Themes (터미널 및 테마)

**터미널 기본 기능**:
- ANSI 컬러 지원 (256색)
- 유니코드/이모지 렌더링
- 스크롤백 버퍼 (최근 10,000줄)

**제스처**:
- **스크롤**: 위아래로 출력 탐색
- **핀치 줌**: 폰트 크기 실시간 조절
- **탭**: 텍스트 선택
- **길게 누르기**: 복사/붙여넣기 메뉴

**테마 프리셋**:
| 테마 | 배경 | 특징 |
|------|------|------|
| Termo Dark | #1a1a1a | 기본값, 눈 편한 다크 |
| Termo Light | #fafafa | 라이트 모드 |
| Dracula | #282a36 | 인기 퍼플 계열 |
| Nord | #2e3440 | 차분한 블루 계열 |
| Solarized Dark | #002b36 | 클래식 |

**아이패드 키보드 단축키**:
- `Cmd + K`: 화면 클리어
- `Cmd + W`: 연결 종료
- `Cmd + ,`: 설정 열기
- `Cmd + 1~9`: 단축 버튼 실행

---

## Technical Architecture (기술 구조)

**Flutter 앱 구조**:
```
lib/
├── main.dart              # 앱 진입점
├── screens/
│   ├── home_screen.dart   # 호스트 목록
│   ├── terminal_screen.dart
│   └── settings_screen.dart
├── widgets/
│   ├── input_mode.dart    # 토글 입력 모드
│   ├── quick_buttons.dart # 단축 버튼
│   └── terminal_view.dart
├── services/
│   ├── ssh_service.dart   # SSH 연결 관리
│   └── storage_service.dart
└── models/
    └── host.dart          # 호스트 데이터 모델
```

**핵심 라이브러리**:
- **dartssh2**: Dart용 SSH 클라이언트 라이브러리
- **xterm**: 터미널 에뮬레이터 위젯
- **flutter_secure_storage**: 민감 정보 암호화 저장
- **provider 또는 riverpod**: 상태 관리

**데이터 흐름**:
1. 사용자가 호스트 선택
2. ssh_service가 연결 수립
3. terminal_view가 출력 렌더링
4. input_mode가 명령어를 ssh_service로 전달

---

## MVP Scope (프로토타입 범위)

**포함**:
- ✅ 기본 SSH 연결 (비밀번호 + SSH 키)
- ✅ 호스트 목록 저장/관리
- ✅ 토글 입력 모드
- ✅ 명령어 히스토리
- ✅ 단축 버튼 (3~5개 제한)
- ✅ 자동완성 (기본 명령어)
- ✅ 테마 3개 (Dark, Light, Dracula)
- ✅ 핀치 줌
- ✅ 아이패드 키보드 단축키

**향후 확장**:
- ⏳ 키체인/1Password 연동
- ⏳ SFTP 파일 전송
- ⏳ 멀티 세션 (탭)
- ⏳ iCloud 동기화
- ⏳ 추가 테마
- ⏳ Android 버전

---

## Open Source

- **라이선스**: MIT
- **저장소**: GitHub 공개
- **배포**: 앱스토어 무료
